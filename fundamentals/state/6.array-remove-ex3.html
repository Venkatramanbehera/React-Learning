<!DOCTYPE html>
<html>
    <head>
        <title> Array Remove </title>
    </head>
    <body>
        <div id="root">

        </div>
        
        <script src="../js/react.development.js"></script>
        <script src="../js/react-dom.development.js"></script>
        <script src="../js/babel.js"></script>

        <script type="text/babel">

            const rootHandle = document.getElementById('root')
            const { useState } = React
            

            function RandomNumbers(props){

                const [numbers, setNumbers] = useState([])

                // callback function 
                const addList = () => {
                    const random =Math.round( Math.random() * 100 )
                    const newArray = [...numbers,random]
                    setNumbers(newArray)
                }

                const removeList = (numberIndex) => {
                    // const resultArray = [...numbers]
                    // resultArray.splice(numberIndex,1)
                    // setNumbers(resultArray)

                    const result = numbers.filter((ele,i)=> {
                        return i !== numberIndex
                    })
                    setNumbers(result)
                }
                return (
                    <div>
                        <h1>Total - { numbers.length } </h1>
                        <button onClick={ addList }>Add</button>
                        <ul>
                            {
                                numbers.map((number,i) => {
                                    return <li key={i}>{ number } <button onClick={ () => {
                                        removeList(i)
                                    } }>Remove</button> </li>
                                })
                            }    
                        </ul>
                    </div>
                )
            }

            ReactDOM.render(<RandomNumbers/>, rootHandle)

        </script>
    </body>
</html>