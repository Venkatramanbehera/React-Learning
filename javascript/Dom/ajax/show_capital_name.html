<!DOCTYPE html>
<html>
    <head>
        <title>Display Country Capital</title>
    </head>
    <body>
        <h1 id="h1Handle"></h1>
        <ul id="ulHandle"></ul>
        <script>
            const h1Handle = document.querySelector('#h1Handle')
            const ulHandle = document.querySelector('#ulHandle')
            
            window.onload = function(){
                const xhr = new XMLHttpRequest()
                xhr.open('GET','https://restcountries.eu/rest/v2/all')
                xhr.send()

                xhr.onload = function(){
                    const data = JSON.parse(xhr.responseText)
                    h1Handle.textContent = `Listing countries - ${data.length}`
                    data.forEach((ele) => {
                        const liTag = document.createElement('li')
                        const button = document.createElement('button')
                        button.textContent = 'show'
                        liTag.textContent = `${ele.name}`
                        const capital = ele.capital
                        button.addEventListener('click',()=>{
                            alert(`capital - ${capital}`)
                        })
                        liTag.appendChild(button)
                        ulHandle.appendChild(liTag)
                    }) 
                }
            }
        </script>
    </body>
</html>